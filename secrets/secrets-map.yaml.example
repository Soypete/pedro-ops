# Secrets Mapping Configuration
#
# This file maps 1Password secrets to OpenBAO secret paths.
# Copy this to secrets-map.yaml and customize for your secrets.
#
# DO NOT commit secrets-map.yaml - it's in .gitignore!

secrets:
  # Database credentials
  - openbao_path: secret/eleduck-analytics/database
    description: "Supabase database credentials for Eleduck Analytics"
    keys:
      - key: username
        onepassword_ref: "op://pedro/POSTGRES_URL/username"
      - key: password
        onepassword_ref: "op://pedro/POSTGRES_URL/credential"
      - key: host
        onepassword_ref: "op://pedro/POSTGRES_URL/server"
      - key: url
        onepassword_ref: "op://pedro/POSTGRES_URL/credential"

  # Twitch credentials
  - openbao_path: secret/apps/twitch
    description: "Twitch API credentials"
    keys:
      - key: client_id
        onepassword_ref: "op://pedro/TWITCH_ID/credential"
      - key: client_secret
        onepassword_ref: "op://pedro/TWITCH_SECRET/credential"

  # Discord credentials
  - openbao_path: secret/apps/discord
    description: "Discord bot credentials"
    keys:
      - key: client_id
        onepassword_ref: "op://pedro/DISCORD_CLIENT_ID/credential"
      - key: client_secret
        onepassword_ref: "op://pedro/DISCORD_SECRET/credential"
      - key: public_key
        onepassword_ref: "op://pedro/DISCORD_PUBLIC_KEY/credential"
      - key: permission
        onepassword_ref: "op://pedro/DISCORD_PERMISSION/credential"

  # Supabase credentials
  - openbao_path: secret/apps/supabase
    description: "Supabase API credentials"
    keys:
      - key: public_key
        onepassword_ref: "op://pedro/SUPABASE_PUB_KEY/credential"
      - key: private_key
        onepassword_ref: "op://pedro/SUPABASE_PRIV_KEY/credential"
      - key: url
        onepassword_ref: "op://pedro/SUPABASE_URL/credential"
      - key: jwt
        onepassword_ref: "op://pedro/SUPABASE_JWT/credential"

  # GitHub Container Registry
  - openbao_path: secret/eleduck-analytics/github
    description: "GitHub PAT for GHCR image pulls"
    keys:
      - key: token
        onepassword_ref: "op://pedro/GITHUB_PAT/credential"

  # Podcast scraper (optional - can start empty)
  - openbao_path: secret/eleduck-analytics/podcast-scraper
    description: "Podcast scraper API credentials (optional)"
    keys:
      - key: apple_email
        onepassword_ref: "op://pedro/APPLE_PODCASTS_EMAIL/credential"
      - key: apple_password
        onepassword_ref: "op://pedro/APPLE_PODCASTS_PASSWORD/credential"
      - key: spotify_sp_cookie
        onepassword_ref: "op://pedro/SPOTIFY_SP_COOKIE/credential"
      - key: spotify_sp_key_cookie
        onepassword_ref: "op://pedro/SPOTIFY_SP_KEY_COOKIE/credential"
      - key: amazon_session_cookie
        onepassword_ref: "op://pedro/AMAZON_SESSION_COOKIE/credential"
      - key: youtube_api_key
        onepassword_ref: "op://pedro/YOUTUBE_API_KEY/credential"
      - key: youtube_access_token
        onepassword_ref: "op://pedro/YOUTUBE_ACCESS_TOKEN/credential"
